<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model type="com.apple.IDECoreDataModeler.DataModel" documentVersion="1.0" lastSavedToolsVersion="22758" systemVersion="23F79" minimumToolsVersion="Automatic" sourceLanguage="Swift" userDefinedModelVersionIdentifier="">
    <entity name="BudgetEntity" representedClassName="BudgetEntity" syncable="YES">
        <attribute name="amount" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="categoryBudgets" optional="YES" attributeType="Transformable" valueTransformerName="NSSecureUnarchiveFromData" customClassName="NSDictionary"/>
        <attribute name="endDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="isActive" attributeType="Boolean" defaultValueString="YES" usesScalarValueType="YES"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="startDate" attributeType="Date" usesScalarValueType="NO"/>
    </entity>
    <entity name="CategoryEntity" representedClassName="CategoryEntity" syncable="YES">
        <attribute name="colorHex" attributeType="String"/>
        <attribute name="iconName" attributeType="String"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="sortOrder" attributeType="Integer 16" defaultValueString="0" usesScalarValueType="YES"/>
    </entity>
    <entity name="ExpirationTrackerEntity" representedClassName="ExpirationTrackerEntity" syncable="YES">
        <attribute name="consumedAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="estimatedExpirationDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="expirationDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="isConsumed" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <attribute name="isWasted" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <attribute name="purchaseDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="quantity" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="remainingQuantity" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="storageLocation" optional="YES" attributeType="String"/>
        <attribute name="wastedAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="groceryItem" maxCount="1" deletionRule="Nullify" destinationEntity="GroceryItemEntity" inverseName="expirationTrackers" inverseEntity="GroceryItemEntity"/>
        <relationship name="purchase" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="PurchaseEntity" inverseName="expirationTracker" inverseEntity="PurchaseEntity"/>
    </entity>
    <entity name="GroceryItemEntity" representedClassName="GroceryItemEntity" syncable="YES">
        <attribute name="averagePrice" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="brand" optional="YES" attributeType="String"/>
        <attribute name="categoryName" attributeType="String"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="imageData" optional="YES" attributeType="Binary" allowsExternalBinaryDataStorage="YES"/>
        <attribute name="imageURL" optional="YES" attributeType="String"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="notes" optional="YES" attributeType="String"/>
        <attribute name="unit" attributeType="String"/>
        <attribute name="updatedAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="expirationTrackers" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="ExpirationTrackerEntity" inverseName="groceryItem" inverseEntity="ExpirationTrackerEntity"/>
        <relationship name="priceHistory" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="PriceHistoryEntity" inverseName="groceryItem" inverseEntity="PriceHistoryEntity"/>
        <relationship name="purchases" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="PurchaseEntity" inverseName="groceryItem" inverseEntity="PurchaseEntity"/>
        <relationship name="shoppingListItems" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="ShoppingListItemEntity" inverseName="groceryItem" inverseEntity="ShoppingListItemEntity"/>
    </entity>
    <entity name="PriceHistoryEntity" representedClassName="PriceHistoryEntity" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="price" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="recordedAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="source" attributeType="String" defaultValueString="manual"/>
        <attribute name="storeName" optional="YES" attributeType="String"/>
        <relationship name="groceryItem" maxCount="1" deletionRule="Nullify" destinationEntity="GroceryItemEntity" inverseName="priceHistory" inverseEntity="GroceryItemEntity"/>
    </entity>
    <entity name="PurchaseEntity" representedClassName="PurchaseEntity" syncable="YES">
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="price" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="purchaseDate" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="quantity" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="receiptImage" optional="YES" attributeType="Binary" allowsExternalBinaryDataStorage="YES"/>
        <attribute name="storeName" optional="YES" attributeType="String"/>
        <attribute name="totalCost" attributeType="Decimal" defaultValueString="0"/>
        <relationship name="expirationTracker" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="ExpirationTrackerEntity" inverseName="purchase" inverseEntity="ExpirationTrackerEntity"/>
        <relationship name="groceryItem" maxCount="1" deletionRule="Nullify" destinationEntity="GroceryItemEntity" inverseName="purchases" inverseEntity="GroceryItemEntity"/>
    </entity>
    <entity name="ShoppingListEntity" representedClassName="ShoppingListEntity" syncable="YES">
        <attribute name="budgetAmount" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="completedAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="createdAt" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="isCompleted" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <attribute name="name" attributeType="String"/>
        <attribute name="updatedAt" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="items" optional="YES" toMany="YES" deletionRule="Cascade" destinationEntity="ShoppingListItemEntity" inverseName="shoppingList" inverseEntity="ShoppingListItemEntity"/>
    </entity>
    <entity name="ShoppingListItemEntity" representedClassName="ShoppingListItemEntity" syncable="YES">
        <attribute name="actualPrice" optional="YES" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="estimatedPrice" attributeType="Decimal" defaultValueString="0"/>
        <attribute name="id" attributeType="UUID" usesScalarValueType="NO"/>
        <attribute name="isPurchased" attributeType="Boolean" defaultValueString="NO" usesScalarValueType="YES"/>
        <attribute name="purchasedAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="quantity" attributeType="Decimal" defaultValueString="0"/>
        <relationship name="groceryItem" optional="YES" maxCount="1" deletionRule="Nullify" destinationEntity="GroceryItemEntity" inverseName="shoppingListItems" inverseEntity="GroceryItemEntity"/>
        <relationship name="shoppingList" maxCount="1" deletionRule="Cascade" destinationEntity="ShoppingListEntity" inverseName="items" inverseEntity="ShoppingListEntity"/>
    </entity>
</model>
